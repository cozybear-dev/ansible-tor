---
# - hosts: tor-fleet-managed
- hosts: setup
  vars:
    contact_info: "email:tor[]shadowbrokers.eu url:shadowbrokers.eu proof:dns-rsa btc:bc1qu9m2sy836pmyku0t3vnmpjxfjds8p2x5psyl6y ciissversion:2"
    tor_contact_email: tor@shadowbrokers.eu
    hostname: "{{ inventory_hostname }}"
    host_shortname: "{{ shortname_conf | default('') }}"
    ipv6_enabled: "{{ ipv6_enabled_conf | default('yes') }}"
    tor_exit_enabled: "{{ tor_exit_enabled_conf | default('no') }}"
    kilobytes_burst: "{{ kilobytes_burst_conf | default('') }}"
    kilobytes_rate: "{{ kilobytes_rate_conf | default('') }}"
    same_host: "{{ same_host_conf | default('no') }}"
    orport: "{{ orport_conf | default('443') }}"
    tor_family: > 
      A4A98B4E4EBBAADE5C8226D041555E82B59342F3,
      D04FE78152A06AEAF950A2E58A11E9739B291C0A,
      31DEA0877BE529EF6716ECD22527A63B156C34E8,
      7CF3BFD0DE5AD3772CB9D293BF9251813296924C,
      AA5C46F66CB5863FA379F18081F9BEDC130AD601,
      AC7BDB39F81C4B364EA50B12B51C77C7A131EA7C,
      A3BC09219C2351376412D8736C7CAEE4A1639E3B,
      A34EBDC33940A61B72B278B61006B018FA749470,
      AD9ADD5135343F013423F7528AE3F753B41E51EA,
      6B56DCB302DA4BC5F468A7D81FDD606A3DF259D6,
      B78D6028A8B4E964D0D5846C719E318FCF78298B,
      A6A650449C729D57C24C99C8ACA2090243F3172C,
      098DFDB1F0F191DDD5957F67B220EFA6FC2FC1BF,
      B06C636CC268AC2BCBEEF4261C72A5111A88E422,
      7D524A203780608CC486D83EE944A89909FEC1F8,
      EDAE2F5BBB9937D3398AF849EFDD35805FA44905,
      DF521A2AC8BBA6B303EAE1784BCA17D2C0EDA8F2,
      17E21333C2BA4403F5E7CC0CDA28D2C89D339CAF,
      1836BDFA47F04DA820AD36409D4D7A8713DEE93E,
      B95E6ABE7AD60D60CDA8F84E6B40C909DC6FBF45,
      989C21F9D7B9FE3C3CE293C2DDA41C72F555D407,
      D649FDA547419792469EBF9F7D6DF0A1E4E50ECC,
      C02E3262F8D674F494EAA97A0E86DE712C6F5A12,
      10D363AE74C4F30370F8ADE43241C8F17EC47CB5,
      B95E6ABE7AD60D60CDA8F84E6B40C909DC6FBF45,
      B95E6ABE7AD60D60CDA8F84E6B40C909DC6FBF45,
      4FE643714615BC290B2F7E568B5652D8C8825CF9,
      C7EC5E64B545E403C0322A26C18CDBBC30EE3E37,
      5F152ED0F1EA7E631478FD218B115AD27FE90564,
      65C5F265EAFA1FEAF67412D6B1BEBC594C14F626,
      2FA5981F1ED22682815E9D42ECDA0317C531E137,
      9C2497CD8DAF7A705CFEF292C7CEFDCD58414234,
      B4C48316FE4D72099D2FEDC236219AE3DD51E554,
      3DBEBEBF5CB8D3C52B5BB0A8E265EFE7F1532898
  roles:
    # - ensure-tor-gpg
    # - setup-manjaro-user
    # - setup-apparmor
    # - restrict-kernel
    # - setup-dns
    - install-and-configure-tor
    # - install-netdata-agent
    # - set-ssh-config #any reboots after this role, will fail during very first setup with root user
    # - ip-tables
    - get-node-hash

