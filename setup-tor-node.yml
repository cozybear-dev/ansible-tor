---
# - hosts: tor-fleet-managed
- hosts: setup
  vars:
    contact_info: "email:tor[]shadowbrokers.eu url:shadowbrokers.eu proof:dns-rsa btc:bc1qu9m2sy836pmyku0t3vnmpjxfjds8p2x5psyl6y ciissversion:2"
    tor_contact_email: tor@shadowbrokers.eu
    hostname: "{{ inventory_hostname }}"
    ipv6_enabled: "{{ ipv6_enabled_conf | default('yes') }}"
    tor_exit_enabled: "{{ tor_exit_enabled_conf | default('no') }}"
    kilobytes_burst: "{{ kilobytes_burst_conf | default('') }}"
    kilobytes_rate: "{{ kilobytes_rate_conf | default('') }}"
    tor_family: > 
      84FA05E6A80EBE36BD84A51705C467FA98188D4A,
      F59D3D313A027703E51DC7DF793F2ED106C2E372,
      23DE335EC403E4BE64AEBCE2029AD8C8C94EF4E5,
      561E0BF3A3B21DF248396A5BCEF9686AB92B9BAE,
      A6CD6A3242549DF63E57FF00FF89BD899D2AEF8A,
      A551E17288938C9FFF08F2F52B058AD4D0FC3A49,
      53A5C88DF5862DC3FF8BB938926C094879FAA806,
      B0ABBC964E763C01E93AF5719B77023728A78181,
      1B57F14DE71E218DA3D9243A6497F26196355357,
      C7A51E46740C15DEC0535AF5560A1919CE6E5758,
      034ED155E6DA8277BC7F294896BFD7013D7BD7B0,
      014326416058DCFD0965167026CBEF647409A000,
      41C7B20EF44FFBB44DE72A748989B18C13FAAD1E,
      B829A49405A9DA5BD2E199F6E83E638CA233BC3C,
      2F76402F04EE7AC80207A4B3B525B235673952AE
  roles:
    - setup-manjaro-user
    - setup-apparmor
    - restrict-kernel
    - setup-dns
    - install-and-configure-tor
    - set-family
    - install-netdata-agent
    - set-ssh-config #any reboots after this role, will fail during very first setup with root user
    - get-node-hash
